<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World - Hot Reload</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1 class="title">Hello World!</h1>
        <p class="subtitle">This is a minimal Node.js app with hot reload functionality.</p>
        <div class="feature-box">
            <h2>Features:</h2>
            <ul>
                <li>✨ Hot reload for CSS and HTML changes</li>
                <li>🚀 Minimal Node.js server</li>
                <li>🔥 WebSocket-based live updates</li>
                <li>📦 Docker containerized</li>
            </ul>
        </div>
        <p class="instructions">Try editing the CSS or HTML files to see the magic happen!</p>
    </div>

    <script>
        // WebSocket connection for hot reload
        const ws = new WebSocket(`ws://${window.location.host}/ws`);
        
        ws.onmessage = function(event) {
            if (event.data === 'reload') {
                console.log('🔄 Hot reload triggered - refreshing page...');
                window.location.reload();
            }
        };
        
        ws.onopen = function() {
            console.log('🔌 Hot reload WebSocket connected');
        };
        
        ws.onclose = function() {
            console.log('❌ Hot reload WebSocket disconnected');
            // Try to reconnect after 1 second
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        };
    </script>
</body>
</html>