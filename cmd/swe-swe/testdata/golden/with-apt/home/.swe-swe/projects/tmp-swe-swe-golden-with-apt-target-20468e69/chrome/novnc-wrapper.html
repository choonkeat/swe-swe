<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>noVNC</title>
</head>
<body>
    <script>
        // Configure URL query parameters to tell noVNC the correct WebSocket path
        // Websockify listens at the root path (/) and handles all HTTP/WebSocket traffic
        // The path parameter tells noVNC where to find the WebSocket endpoint relative
        // to the current browser location
        //
        // Configure noVNC to use the current hostname/port and chrome/ path (no leading slash)
        // noVNC will prepend /, so chrome/ becomes /chrome/
        const currentUrl = new URL(window.location.href);
        const params = new URLSearchParams();
        params.set('host', currentUrl.hostname);
        params.set('port', currentUrl.port || (currentUrl.protocol === 'https:' ? '443' : '80'));
        params.set('path', 'chrome/');
        params.set('reconnect', 'true');

        window.location.href = 'vnc_lite.html?' + params.toString();
    </script>
</body>
</html>
